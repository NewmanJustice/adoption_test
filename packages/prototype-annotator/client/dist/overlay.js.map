{"version":3,"file":"overlay.js","sources":["../../node_modules/preact/dist/preact.module.js","../../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js","../../node_modules/preact/hooks/dist/hooks.module.js","../overlay/components/Toolbar.tsx","../overlay/components/AnnotationForm.tsx","../overlay/components/Sidebar.tsx","../overlay/components/SelectionTools.tsx","../overlay/components/AnnotationMarker.tsx","../overlay/hooks/useAnnotations.ts","../overlay/hooks/useSelection.ts","../overlay/Overlay.tsx","../overlay/index.tsx"],"sourcesContent":["var n,l,u,t,i,o,r,e,f,c,s,a,h,p={},v=[],y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,d=Array.isArray;function w(n,l){for(var u in l)n[u]=l[u];return n}function g(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _(l,u,t){var i,o,r,e={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:e[r]=u[r];if(arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===e[r]&&(e[r]=l.defaultProps[r]);return m(l,e,i,o,null)}function m(n,t,i,o,r){var e={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==r?++u:r,__i:-1,__u:0};return null==r&&null!=l.vnode&&l.vnode(e),e}function b(){return{current:null}}function k(n){return n.children}function x(n,l){this.props=n,this.context=l}function S(n,l){if(null==l)return n.__?S(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?S(n):null}function C(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return C(n)}}function M(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!$.__r++||o!=l.debounceRendering)&&((o=l.debounceRendering)||r)($)}function $(){for(var n,u,t,o,r,f,c,s=1;i.length;)i.length>s&&i.sort(e),n=i.shift(),s=i.length,n.__d&&(t=void 0,o=void 0,r=(o=(u=n).__v).__e,f=[],c=[],u.__P&&((t=w({},o)).__v=o.__v+1,l.vnode&&l.vnode(t),O(u.__P,t,o,u.__n,u.__P.namespaceURI,32&o.__u?[r]:null,f,null==r?S(o):r,!!(32&o.__u),c),t.__v=o.__v,t.__.__k[t.__i]=t,N(f,t,c),o.__e=o.__=null,t.__e!=r&&C(t)));$.__r=0}function I(n,l,u,t,i,o,r,e,f,c,s){var a,h,y,d,w,g,_,m=t&&t.__k||v,b=l.length;for(f=P(u,l,m,f,b),a=0;a<b;a++)null!=(y=u.__k[a])&&(h=-1==y.__i?p:m[y.__i]||p,y.__i=a,g=O(n,y,h,i,o,r,e,f,c,s),d=y.__e,y.ref&&h.ref!=y.ref&&(h.ref&&B(h.ref,null,y),s.push(y.ref,y.__c||d,y)),null==w&&null!=d&&(w=d),(_=!!(4&y.__u))||h.__k===y.__k?f=A(y,f,n,_):\"function\"==typeof y.type&&void 0!==g?f=g:d&&(f=d.nextSibling),y.__u&=-7);return u.__e=w,f}function P(n,l,u,t,i){var o,r,e,f,c,s=u.length,a=s,h=0;for(n.__k=new Array(i),o=0;o<i;o++)null!=(r=l[o])&&\"boolean\"!=typeof r&&\"function\"!=typeof r?(\"string\"==typeof r||\"number\"==typeof r||\"bigint\"==typeof r||r.constructor==String?r=n.__k[o]=m(null,r,null,null,null):d(r)?r=n.__k[o]=m(k,{children:r},null,null,null):void 0===r.constructor&&r.__b>0?r=n.__k[o]=m(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):n.__k[o]=r,f=o+h,r.__=n,r.__b=n.__b+1,e=null,-1!=(c=r.__i=L(r,u,f,a))&&(a--,(e=u[c])&&(e.__u|=2)),null==e||null==e.__v?(-1==c&&(i>s?h--:i<s&&h++),\"function\"!=typeof r.type&&(r.__u|=4)):c!=f&&(c==f-1?h--:c==f+1?h++:(c>f?h--:h++,r.__u|=4))):n.__k[o]=null;if(a)for(o=0;o<s;o++)null!=(e=u[o])&&0==(2&e.__u)&&(e.__e==t&&(t=S(e)),D(e,e));return t}function A(n,l,u,t){var i,o;if(\"function\"==typeof n.type){for(i=n.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=n,l=A(i[o],l,u,t));return l}n.__e!=l&&(t&&(l&&n.type&&!l.parentNode&&(l=S(n)),u.insertBefore(n.__e,l||null)),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8==l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(d(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,u,t){var i,o,r,e=n.key,f=n.type,c=l[u],s=null!=c&&0==(2&c.__u);if(null===c&&null==e||s&&e==c.key&&f==c.type)return u;if(t>(s?1:0))for(i=u-1,o=u+1;i>=0||o<l.length;)if(null!=(c=l[r=i>=0?i--:o++])&&0==(2&c.__u)&&e==c.key&&f==c.type)return r;return-1}function T(n,l,u){\"-\"==l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||y.test(l)?u:u+\"px\"}function j(n,l,u,t,i){var o,r;n:if(\"style\"==l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T(n.style,l,\"\");if(u)for(l in u)t&&u[l]==t[l]||T(n.style,l,u[l])}else if(\"o\"==l[0]&&\"n\"==l[1])o=l!=(l=l.replace(f,\"$1\")),r=l.toLowerCase(),l=r in n||\"onFocusOut\"==l||\"onFocusIn\"==l?r.slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t?u.u=t.u:(u.u=c,n.addEventListener(l,o?a:s,o)):n.removeEventListener(l,o?a:s,o);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!=l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==u?\"\":u))}}function F(n){return function(u){if(this.l){var t=this.l[u.type+n];if(null==u.t)u.t=c++;else if(u.t<t.u)return;return t(l.event?l.event(u):u)}}}function O(n,u,t,i,o,r,e,f,c,s){var a,h,p,v,y,_,m,b,S,C,M,$,P,A,H,L,T,j=u.type;if(void 0!==u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),r=[f=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof j)try{if(b=u.props,S=\"prototype\"in j&&j.prototype.render,C=(a=j.contextType)&&i[a.__c],M=a?C?C.props.value:a.__:i,t.__c?m=(h=u.__c=t.__c).__=h.__E:(S?u.__c=h=new j(b,M):(u.__c=h=new x(b,M),h.constructor=j,h.render=E),C&&C.sub(h),h.state||(h.state={}),h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),S&&null==h.__s&&(h.__s=h.state),S&&null!=j.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=w({},h.__s)),w(h.__s,j.getDerivedStateFromProps(b,h.__s))),v=h.props,y=h.state,h.__v=u,p)S&&null==j.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),S&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(S&&null==j.getDerivedStateFromProps&&b!==v&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(b,M),u.__v==t.__v||!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(b,h.__s,M)){for(u.__v!=t.__v&&(h.props=b,h.state=h.__s,h.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.some(function(n){n&&(n.__=u)}),$=0;$<h._sb.length;$++)h.__h.push(h._sb[$]);h._sb=[],h.__h.length&&e.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(b,h.__s,M),S&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(v,y,_)})}if(h.context=M,h.props=b,h.__P=n,h.__e=!1,P=l.__r,A=0,S){for(h.state=h.__s,h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++A<25);h.state=h.__s,null!=h.getChildContext&&(i=w(w({},i),h.getChildContext())),S&&!p&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(v,y)),L=a,null!=a&&a.type===k&&null==a.key&&(L=V(a.props.children)),f=I(n,d(L)?L:[L],u,t,i,o,r,e,f,c,s),h.base=u.__e,u.__u&=-161,h.__h.length&&e.push(h),m&&(h.__E=h.__=null)}catch(n){if(u.__v=null,c||null!=r)if(n.then){for(u.__u|=c?160:128;f&&8==f.nodeType&&f.nextSibling;)f=f.nextSibling;r[r.indexOf(f)]=null,u.__e=f}else{for(T=r.length;T--;)g(r[T]);z(u)}else u.__e=t.__e,u.__k=t.__k,n.then||z(u);l.__e(n,u,t)}else null==r&&u.__v==t.__v?(u.__k=t.__k,u.__e=t.__e):f=u.__e=q(t.__e,u,t,i,o,r,e,c,s);return(a=l.diffed)&&a(u),128&u.__u?void 0:f}function z(n){n&&n.__c&&(n.__c.__e=!0),n&&n.__k&&n.__k.forEach(z)}function N(n,u,t){for(var i=0;i<t.length;i++)B(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function V(n){return\"object\"!=typeof n||null==n||n.__b&&n.__b>0?n:d(n)?n.map(V):w({},n)}function q(u,t,i,o,r,e,f,c,s){var a,h,v,y,w,_,m,b=i.props||p,k=t.props,x=t.type;if(\"svg\"==x?r=\"http://www.w3.org/2000/svg\":\"math\"==x?r=\"http://www.w3.org/1998/Math/MathML\":r||(r=\"http://www.w3.org/1999/xhtml\"),null!=e)for(a=0;a<e.length;a++)if((w=e[a])&&\"setAttribute\"in w==!!x&&(x?w.localName==x:3==w.nodeType)){u=w,e[a]=null;break}if(null==u){if(null==x)return document.createTextNode(k);u=document.createElementNS(r,x,k.is&&k),c&&(l.__m&&l.__m(t,e),c=!1),e=null}if(null==x)b===k||c&&u.data==k||(u.data=k);else{if(e=e&&n.call(u.childNodes),!c&&null!=e)for(b={},a=0;a<u.attributes.length;a++)b[(w=u.attributes[a]).name]=w.value;for(a in b)if(w=b[a],\"children\"==a);else if(\"dangerouslySetInnerHTML\"==a)v=w;else if(!(a in k)){if(\"value\"==a&&\"defaultValue\"in k||\"checked\"==a&&\"defaultChecked\"in k)continue;j(u,a,null,w,r)}for(a in k)w=k[a],\"children\"==a?y=w:\"dangerouslySetInnerHTML\"==a?h=w:\"value\"==a?_=w:\"checked\"==a?m=w:c&&\"function\"!=typeof w||b[a]===w||j(u,a,w,b[a],r);if(h)c||v&&(h.__html==v.__html||h.__html==u.innerHTML)||(u.innerHTML=h.__html),t.__k=[];else if(v&&(u.innerHTML=\"\"),I(\"template\"==t.type?u.content:u,d(y)?y:[y],t,i,o,\"foreignObject\"==x?\"http://www.w3.org/1999/xhtml\":r,e,f,e?e[0]:i.__k&&S(i,0),c,s),null!=e)for(a=e.length;a--;)g(e[a]);c||(a=\"value\",\"progress\"==x&&null==_?u.removeAttribute(\"value\"):null!=_&&(_!==u[a]||\"progress\"==x&&!_||\"option\"==x&&_!=b[a])&&j(u,a,_,b[a],r),a=\"checked\",null!=m&&m!=u[a]&&j(u,a,m,b[a],r))}return u}function B(n,u,t){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==u||(n.__u=n(u))}else n.current=u}catch(n){l.__e(n,t)}}function D(n,u,t){var i,o;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||B(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&D(i[o],u,t||\"function\"!=typeof n.type);t||g(n.__e),n.__c=n.__=n.__e=void 0}function E(n,l,u){return this.constructor(n,u)}function G(u,t,i){var o,r,e,f;t==document&&(t=document.documentElement),l.__&&l.__(u,t),r=(o=\"function\"==typeof i)?null:i&&i.__k||t.__k,e=[],f=[],O(t,u=(!o&&i||t).__k=_(k,null,[u]),r||p,p,t.namespaceURI,!o&&i?[i]:r?null:t.firstChild?n.call(t.childNodes):null,e,!o&&i?i:r?r.__e:t.firstChild,o,f),N(e,u,f)}function J(n,l){G(n,l,J)}function K(l,u,t){var i,o,r,e,f=w({},l.props);for(r in l.type&&l.type.defaultProps&&(e=l.type.defaultProps),u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=void 0===u[r]&&null!=e?e[r]:u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),m(l.type,f,i||l.key,o||l.ref,null)}function Q(n){function l(n){var u,t;return this.getChildContext||(u=new Set,(t={})[l.__c]=this,this.getChildContext=function(){return t},this.componentWillUnmount=function(){u=null},this.shouldComponentUpdate=function(n){this.props.value!=n.value&&u.forEach(function(n){n.__e=!0,M(n)})},this.sub=function(n){u.add(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u&&u.delete(n),l&&l.call(n)}}),n.children}return l.__c=\"__cC\"+h++,l.__=n,l.Provider=l.__l=(l.Consumer=function(n,l){return n.children(l)}).contextType=l,l}n=v.slice,l={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&void 0===n.constructor},x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=w({},this.state),\"function\"==typeof n&&(n=n(w({},u),this.props)),n&&w(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),M(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),M(this))},x.prototype.render=k,i=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,e=function(n,l){return n.__v.__b-l.__v.__b},$.__r=0,f=/(PointerCapture)$|Capture$/i,c=0,s=F(!1),a=F(!0),h=0;export{x as Component,k as Fragment,K as cloneElement,Q as createContext,_ as createElement,b as createRef,_ as h,J as hydrate,t as isValidElement,l as options,G as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import{options as r,Fragment as e}from\"preact\";export{Fragment}from\"preact\";var t=/[\"&<]/;function n(r){if(0===r.length||!1===t.test(r))return r;for(var e=0,n=0,o=\"\",f=\"\";n<r.length;n++){switch(r.charCodeAt(n)){case 34:f=\"&quot;\";break;case 38:f=\"&amp;\";break;case 60:f=\"&lt;\";break;default:continue}n!==e&&(o+=r.slice(e,n)),o+=f,e=n+1}return n!==e&&(o+=r.slice(e,n)),o}var o=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,f=0,i=Array.isArray;function u(e,t,n,o,i,u){t||(t={});var a,c,p=t;if(\"ref\"in p)for(c in p={},t)\"ref\"==c?a=t[c]:p[c]=t[c];var l={type:e,props:p,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--f,__i:-1,__u:0,__source:i,__self:u};if(\"function\"==typeof e&&(a=e.defaultProps))for(c in a)void 0===p[c]&&(p[c]=a[c]);return r.vnode&&r.vnode(l),l}function a(r){var t=u(e,{tpl:r,exprs:[].slice.call(arguments,1)});return t.key=t.__v,t}var c={},p=/[A-Z]/g;function l(e,t){if(r.attr){var f=r.attr(e,t);if(\"string\"==typeof f)return f}if(t=function(r){return null!==r&&\"object\"==typeof r&&\"function\"==typeof r.valueOf?r.valueOf():r}(t),\"ref\"===e||\"key\"===e)return\"\";if(\"style\"===e&&\"object\"==typeof t){var i=\"\";for(var u in t){var a=t[u];if(null!=a&&\"\"!==a){var l=\"-\"==u[0]?u:c[u]||(c[u]=u.replace(p,\"-$&\").toLowerCase()),s=\";\";\"number\"!=typeof a||l.startsWith(\"--\")||o.test(l)||(s=\"px;\"),i=i+l+\":\"+a+s}}return e+'=\"'+n(i)+'\"'}return null==t||!1===t||\"function\"==typeof t||\"object\"==typeof t?\"\":!0===t?e:e+'=\"'+n(\"\"+t)+'\"'}function s(r){if(null==r||\"boolean\"==typeof r||\"function\"==typeof r)return null;if(\"object\"==typeof r){if(void 0===r.constructor)return r;if(i(r)){for(var e=0;e<r.length;e++)r[e]=s(r[e]);return r}}return n(\"\"+r)}export{u as jsx,l as jsxAttr,u as jsxDEV,s as jsxEscape,a as jsxTemplate,u as jsxs};\n//# sourceMappingURL=jsxRuntime.module.js.map\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=n,e=c.__b,a=c.__r,v=c.diffed,l=c.__c,m=c.unmount,s=c.__;function p(n,t){c.__h&&c.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({}),u.__[n]}function d(n){return o=1,h(D,n)}function h(n,u,i){var o=p(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.__f)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=o.__c.props!==n;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),c&&c.call(this,n,t,r)||i};r.__f=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function y(n,u){var i=p(t++,3);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__H.__h.push(i))}function _(n,u){var i=p(t++,4);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__h.push(i))}function A(n){return o=5,T(function(){return{current:n}},[])}function F(n,t,r){o=6,_(function(){if(\"function\"==typeof n){var r=n(t());return function(){n(null),r&&\"function\"==typeof r&&r()}}if(n)return n.current=t(),function(){return n.current=null}},null==r?r:r.concat(n))}function T(n,r){var u=p(t++,7);return C(u.__H,r)&&(u.__=n(),u.__H=r,u.__h=n),u.__}function q(n,t){return o=8,T(function(){return n},t)}function x(n){var u=r.context[n.__c],i=p(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function P(n,t){c.useDebugValue&&c.useDebugValue(t?t(n):n)}function b(n){var u=p(t++,10),i=d();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function g(){var n=p(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[]}catch(t){n.__H.__h=[],c.__e(t,n.__v)}}c.__b=function(n){r=null,e&&e(n)},c.__=function(n,t){n&&t.__k&&t.__k.__m&&(n.__m=t.__k.__m),s&&s(n,t)},c.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r},c.diffed=function(n){v&&v(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===c.requestAnimationFrame||((i=c.requestAnimationFrame)||w)(j)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),u=r=null},c.__c=function(n,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(n){return!n.__||B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],c.__e(r,n.__v)}}),l&&l(n,t)},c.unmount=function(n){m&&m(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{z(n)}catch(n){t=n}}),r.__H=void 0,t&&c.__e(t,r.__v))};var k=\"function\"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,35);k&&(t=requestAnimationFrame(r))}function z(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function B(n){var t=r;n.__c=n.__(),r=t}function C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function D(n,t){return\"function\"==typeof t?t(n):t}export{q as useCallback,x as useContext,P as useDebugValue,y as useEffect,b as useErrorBoundary,g as useId,F as useImperativeHandle,_ as useLayoutEffect,T as useMemo,h as useReducer,A as useRef,d as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import { FunctionComponent } from 'preact';\nimport type { SelectionMode } from '../hooks/useSelection';\n\ninterface ToolbarProps {\n  sidebarOpen: boolean;\n  onToggleSidebar: () => void;\n  selectionMode: SelectionMode;\n  onSetSelectionMode: (mode: SelectionMode) => void;\n}\n\nconst MenuIcon = () => (\n  <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n    <path d=\"M4 6h16M4 12h16M4 18h16\" />\n  </svg>\n);\n\nconst CloseIcon = () => (\n  <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n    <path d=\"M6 18L18 6M6 6l12 12\" />\n  </svg>\n);\n\nconst ElementIcon = () => (\n  <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n    <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" />\n    <path d=\"M9 3v18M3 9h18\" />\n  </svg>\n);\n\nconst RectIcon = () => (\n  <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n    <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" stroke-dasharray=\"4 2\" />\n    <path d=\"M8 8h8v8H8z\" />\n  </svg>\n);\n\nexport const Toolbar: FunctionComponent<ToolbarProps> = ({\n  sidebarOpen,\n  onToggleSidebar,\n  selectionMode,\n  onSetSelectionMode,\n}) => {\n  return (\n    <div class=\"pa-toolbar\">\n      <button\n        class={`pa-toolbar-btn ${selectionMode === 'element' ? 'active' : ''}`}\n        onClick={() => onSetSelectionMode(selectionMode === 'element' ? 'none' : 'element')}\n        title=\"Select element (E)\"\n      >\n        <ElementIcon />\n      </button>\n      <button\n        class={`pa-toolbar-btn ${selectionMode === 'rect' ? 'active' : ''}`}\n        onClick={() => onSetSelectionMode(selectionMode === 'rect' ? 'none' : 'rect')}\n        title=\"Draw rectangle (R)\"\n      >\n        <RectIcon />\n      </button>\n      <button\n        class=\"pa-toolbar-btn\"\n        onClick={onToggleSidebar}\n        title=\"Toggle sidebar (S)\"\n      >\n        {sidebarOpen ? <CloseIcon /> : <MenuIcon />}\n      </button>\n    </div>\n  );\n};\n","import { FunctionComponent } from 'preact';\nimport { useState, useEffect } from 'preact/hooks';\nimport type { Annotation } from '../hooks/useAnnotations';\nimport type { Selection } from '../hooks/useSelection';\n\ninterface AnnotationFormProps {\n  selection: Selection;\n  existingAnnotation?: Annotation | null;\n  onSubmit: (data: { title: string; body: string }) => void;\n  onCancel: () => void;\n  onDelete?: () => void;\n}\n\nexport const AnnotationForm: FunctionComponent<AnnotationFormProps> = ({\n  selection,\n  existingAnnotation,\n  onSubmit,\n  onCancel,\n  onDelete,\n}) => {\n  const [title, setTitle] = useState(existingAnnotation?.title || '');\n  const [body, setBody] = useState(existingAnnotation?.body || '');\n\n  useEffect(() => {\n    if (existingAnnotation) {\n      setTitle(existingAnnotation.title);\n      setBody(existingAnnotation.body);\n    }\n  }, [existingAnnotation]);\n\n  const handleSubmit = (e: Event) => {\n    e.preventDefault();\n    if (!title.trim()) return;\n    onSubmit({ title: title.trim(), body: body.trim() });\n  };\n\n  return (\n    <form class=\"pa-form\" onSubmit={handleSubmit}>\n      {selection && (\n        <div class=\"pa-form-group\">\n          <label class=\"pa-form-label\">Selection</label>\n          <div style={{ fontSize: '12px', color: '#6b7280', padding: '8px', background: '#f9fafb', borderRadius: '4px' }}>\n            {selection.type === 'element' ? (\n              <>\n                <div><strong>Type:</strong> Element</div>\n                <div style={{ wordBreak: 'break-all' }}><strong>Selector:</strong> {selection.selector}</div>\n              </>\n            ) : (\n              <>\n                <div><strong>Type:</strong> Rectangle</div>\n                <div><strong>Position:</strong> {Math.round(selection.x)}, {Math.round(selection.y)}</div>\n                <div><strong>Size:</strong> {Math.round(selection.width)} x {Math.round(selection.height)}</div>\n              </>\n            )}\n          </div>\n        </div>\n      )}\n\n      <div class=\"pa-form-group\">\n        <label class=\"pa-form-label\" for=\"pa-title\">Title *</label>\n        <input\n          id=\"pa-title\"\n          type=\"text\"\n          class=\"pa-form-input\"\n          value={title}\n          onInput={(e) => setTitle((e.target as HTMLInputElement).value)}\n          placeholder=\"Brief description\"\n          required\n        />\n      </div>\n\n      <div class=\"pa-form-group\">\n        <label class=\"pa-form-label\" for=\"pa-body\">Details</label>\n        <textarea\n          id=\"pa-body\"\n          class=\"pa-form-input pa-form-textarea\"\n          value={body}\n          onInput={(e) => setBody((e.target as HTMLTextAreaElement).value)}\n          placeholder=\"Additional context, suggestions, or feedback...\"\n        />\n      </div>\n\n      <div class=\"pa-form-actions\">\n        {existingAnnotation && onDelete && (\n          <button type=\"button\" class=\"pa-btn pa-btn-danger\" onClick={onDelete}>\n            Delete\n          </button>\n        )}\n        <button type=\"button\" class=\"pa-btn pa-btn-secondary\" onClick={onCancel}>\n          Cancel\n        </button>\n        <button type=\"submit\" class=\"pa-btn pa-btn-primary\">\n          {existingAnnotation ? 'Update' : 'Save'}\n        </button>\n      </div>\n    </form>\n  );\n};\n","import { FunctionComponent } from 'preact';\nimport { useState } from 'preact/hooks';\nimport type { Annotation } from '../hooks/useAnnotations';\nimport type { Selection } from '../hooks/useSelection';\nimport { AnnotationForm } from './AnnotationForm';\n\ninterface SidebarProps {\n  open: boolean;\n  onClose: () => void;\n  annotations: Annotation[];\n  loading: boolean;\n  selection: Selection;\n  selectedAnnotation: Annotation | null;\n  onSelectAnnotation: (annotation: Annotation | null) => void;\n  onCreateAnnotation: (data: { title: string; body: string }) => void;\n  onUpdateAnnotation: (id: string, data: { title: string; body: string }) => void;\n  onDeleteAnnotation: (id: string) => void;\n  onCancelSelection: () => void;\n  basePath: string;\n}\n\nconst CloseIcon = () => (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n    <path d=\"M6 18L18 6M6 6l12 12\" />\n  </svg>\n);\n\nexport const Sidebar: FunctionComponent<SidebarProps> = ({\n  open,\n  onClose,\n  annotations,\n  loading,\n  selection,\n  selectedAnnotation,\n  onSelectAnnotation,\n  onCreateAnnotation,\n  onUpdateAnnotation,\n  onDeleteAnnotation,\n  onCancelSelection,\n  basePath,\n}) => {\n  const [activeTab, setActiveTab] = useState<'list' | 'form'>('list');\n\n  // Switch to form tab when there's a selection\n  const showForm = selection || selectedAnnotation;\n\n  const handleCreateSubmit = (data: { title: string; body: string }) => {\n    onCreateAnnotation(data);\n    setActiveTab('list');\n  };\n\n  const handleUpdateSubmit = (data: { title: string; body: string }) => {\n    if (selectedAnnotation) {\n      onUpdateAnnotation(selectedAnnotation.id, data);\n      onSelectAnnotation(null);\n      setActiveTab('list');\n    }\n  };\n\n  const handleDelete = () => {\n    if (selectedAnnotation) {\n      onDeleteAnnotation(selectedAnnotation.id);\n      onSelectAnnotation(null);\n      setActiveTab('list');\n    }\n  };\n\n  const handleCancel = () => {\n    onCancelSelection();\n    onSelectAnnotation(null);\n    setActiveTab('list');\n  };\n\n  const formatDate = (dateStr: string) => {\n    const date = new Date(dateStr);\n    return date.toLocaleDateString() + ' ' + date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n  };\n\n  return (\n    <div class={`pa-sidebar ${open ? 'open' : ''}`}>\n      <div class=\"pa-sidebar-header\">\n        <h2 class=\"pa-sidebar-title\">Annotations</h2>\n        <button class=\"pa-close-btn\" onClick={onClose}>\n          <CloseIcon />\n        </button>\n      </div>\n\n      {!showForm && (\n        <div class=\"pa-tabs\">\n          <button\n            class={`pa-tab ${activeTab === 'list' ? 'active' : ''}`}\n            onClick={() => setActiveTab('list')}\n          >\n            List ({annotations.length})\n          </button>\n        </div>\n      )}\n\n      <div class=\"pa-sidebar-content\">\n        {showForm ? (\n          <AnnotationForm\n            selection={selection}\n            existingAnnotation={selectedAnnotation}\n            onSubmit={selectedAnnotation ? handleUpdateSubmit : handleCreateSubmit}\n            onCancel={handleCancel}\n            onDelete={selectedAnnotation ? handleDelete : undefined}\n          />\n        ) : (\n          <>\n            {loading ? (\n              <div class=\"pa-empty-state\">Loading...</div>\n            ) : annotations.length === 0 ? (\n              <div class=\"pa-empty-state\">\n                <p>No annotations yet</p>\n                <p style={{ fontSize: '12px', marginTop: '8px' }}>\n                  Use the toolbar to select an element or draw a rectangle\n                </p>\n              </div>\n            ) : (\n              <div class=\"pa-annotation-list\">\n                {annotations.map((annotation) => (\n                  <div\n                    key={annotation.id}\n                    class=\"pa-annotation-item\"\n                    onClick={() => onSelectAnnotation(annotation)}\n                  >\n                    <div class=\"pa-annotation-item-title\">{annotation.title}</div>\n                    {annotation.body && (\n                      <div class=\"pa-annotation-item-body\">{annotation.body}</div>\n                    )}\n                    <div class=\"pa-annotation-item-meta\">\n                      {annotation.anchor_type} â€¢ {formatDate(annotation.created_at)}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </>\n        )}\n      </div>\n\n      <div class=\"pa-sidebar-footer\">\n        <a\n          href={`${basePath}/dashboard`}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          class=\"pa-btn pa-btn-secondary\"\n          style={{ display: 'block', textAlign: 'center', textDecoration: 'none' }}\n        >\n          Open Dashboard\n        </a>\n      </div>\n    </div>\n  );\n};\n","import { FunctionComponent } from 'preact';\nimport type { SelectionMode } from '../hooks/useSelection';\n\ninterface SelectionToolsProps {\n  mode: SelectionMode;\n  hoveredRect: DOMRect | null;\n  rectDrag: { startX: number; startY: number; endX: number; endY: number } | null;\n}\n\nexport const SelectionTools: FunctionComponent<SelectionToolsProps> = ({\n  mode,\n  hoveredRect,\n  rectDrag,\n}) => {\n  return (\n    <>\n      {/* Mode indicator */}\n      {mode !== 'none' && (\n        <div class=\"pa-mode-indicator\">\n          {mode === 'element' ? 'Click to select element' : 'Drag to draw rectangle'}\n          <kbd>ESC</kbd> to cancel\n        </div>\n      )}\n\n      {/* Element highlight */}\n      {mode === 'element' && hoveredRect && (\n        <div\n          class=\"pa-element-highlight\"\n          style={{\n            left: `${hoveredRect.left}px`,\n            top: `${hoveredRect.top}px`,\n            width: `${hoveredRect.width}px`,\n            height: `${hoveredRect.height}px`,\n          }}\n        />\n      )}\n\n      {/* Rectangle selection */}\n      {mode === 'rect' && rectDrag && (\n        <div\n          class=\"pa-selection-rect\"\n          style={{\n            left: `${Math.min(rectDrag.startX, rectDrag.endX)}px`,\n            top: `${Math.min(rectDrag.startY, rectDrag.endY)}px`,\n            width: `${Math.abs(rectDrag.endX - rectDrag.startX)}px`,\n            height: `${Math.abs(rectDrag.endY - rectDrag.startY)}px`,\n          }}\n        />\n      )}\n    </>\n  );\n};\n","import { FunctionComponent } from 'preact';\nimport { useState, useEffect, useCallback } from 'preact/hooks';\nimport type { Annotation } from '../hooks/useAnnotations';\n\ninterface AnnotationMarkerProps {\n  annotation: Annotation;\n  index: number;\n  isActive: boolean;\n  onClick: () => void;\n}\n\ninterface Position {\n  left: number;\n  top: number;\n}\n\nexport const AnnotationMarker: FunctionComponent<AnnotationMarkerProps> = ({\n  annotation,\n  index,\n  isActive,\n  onClick,\n}) => {\n  const [position, setPosition] = useState<Position | null>(null);\n\n  const calculatePosition = useCallback((): Position | null => {\n    const payload = annotation.anchor_payload;\n\n    if (annotation.anchor_type === 'element' && 'selector' in payload) {\n      // Try to find the element\n      try {\n        const element = document.querySelector(payload.selector as string);\n        if (element) {\n          // getBoundingClientRect returns viewport-relative coords, perfect for position: fixed\n          const rect = element.getBoundingClientRect();\n          return {\n            left: rect.right - 12,\n            top: rect.top - 12,\n          };\n        }\n      } catch {\n        // Selector might be invalid\n      }\n      return null;\n    }\n\n    if (annotation.anchor_type === 'rect' && 'x' in payload) {\n      // Rectangle positions are stored as document-relative coordinates\n      const { x, y, width, scrollX, scrollY, viewportWidth, viewportHeight } = payload as {\n        x: number;\n        y: number;\n        width: number;\n        scrollX: number;\n        scrollY: number;\n        viewportWidth: number;\n        viewportHeight: number;\n      };\n\n      // Adjust for current viewport if size changed\n      const scaleX = window.innerWidth / viewportWidth;\n      const scaleY = window.innerHeight / viewportHeight;\n\n      // Calculate document position of the annotation\n      const docX = (x + scrollX) * scaleX;\n      const docY = (y + scrollY) * scaleY;\n\n      // Convert to viewport-relative position for position: fixed\n      return {\n        left: docX - window.scrollX + width * scaleX - 12,\n        top: docY - window.scrollY - 12,\n      };\n    }\n\n    return null;\n  }, [annotation]);\n\n  useEffect(() => {\n    // Calculate initial position\n    setPosition(calculatePosition());\n\n    // Recalculate on scroll and resize\n    const handleUpdate = () => {\n      setPosition(calculatePosition());\n    };\n\n    window.addEventListener('scroll', handleUpdate, { passive: true });\n    window.addEventListener('resize', handleUpdate, { passive: true });\n\n    return () => {\n      window.removeEventListener('scroll', handleUpdate);\n      window.removeEventListener('resize', handleUpdate);\n    };\n  }, [calculatePosition]);\n\n  if (!position) {\n    return null;\n  }\n\n  return (\n    <div\n      class={`pa-marker ${isActive ? 'active' : ''}`}\n      style={{\n        left: `${position.left}px`,\n        top: `${position.top}px`,\n      }}\n      onClick={onClick}\n      title={annotation.title}\n    >\n      {index + 1}\n    </div>\n  );\n};\n","import { useState, useEffect, useCallback } from 'preact/hooks';\n\ninterface AnchorPayload {\n  selector?: string;\n  xpath?: string;\n  textContent?: string;\n  x?: number;\n  y?: number;\n  width?: number;\n  height?: number;\n  scrollX?: number;\n  scrollY?: number;\n  viewportWidth?: number;\n  viewportHeight?: number;\n}\n\nexport interface Annotation {\n  id: string;\n  url_full: string;\n  url_canonical: string;\n  title: string;\n  body: string;\n  anchor_type: 'element' | 'rect';\n  anchor_payload: AnchorPayload;\n  created_at: string;\n  updated_at: string;\n  deleted_at: string | null;\n  created_by: string;\n  updated_by: string;\n}\n\ninterface CreateAnnotationInput {\n  url_full: string;\n  title: string;\n  body: string;\n  anchor_type: 'element' | 'rect';\n  anchor_payload: AnchorPayload;\n  actor?: string;\n}\n\ninterface UseAnnotationsResult {\n  annotations: Annotation[];\n  loading: boolean;\n  error: string | null;\n  refresh: () => Promise<void>;\n  create: (input: CreateAnnotationInput) => Promise<Annotation | null>;\n  update: (id: string, input: Partial<CreateAnnotationInput>) => Promise<Annotation | null>;\n  remove: (id: string) => Promise<boolean>;\n}\n\nexport function useAnnotations(apiUrl: string, defaultActor: string): UseAnnotationsResult & { currentUrl: string } {\n  const [annotations, setAnnotations] = useState<Annotation[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Track URL as state to detect SPA navigation\n  const [currentUrl, setCurrentUrl] = useState(\n    () => window.location.origin + window.location.pathname\n  );\n\n  // Detect URL changes for SPA navigation\n  useEffect(() => {\n    let lastUrl = window.location.href;\n\n    // Handle browser back/forward\n    const handlePopState = () => {\n      const newUrl = window.location.origin + window.location.pathname;\n      if (newUrl !== currentUrl) {\n        setCurrentUrl(newUrl);\n      }\n    };\n\n    // Handle hash changes\n    const handleHashChange = () => {\n      const newUrl = window.location.origin + window.location.pathname;\n      if (newUrl !== currentUrl) {\n        setCurrentUrl(newUrl);\n      }\n    };\n\n    // Poll for pushState/replaceState changes (SPA routers like React Router)\n    const intervalId = setInterval(() => {\n      if (window.location.href !== lastUrl) {\n        lastUrl = window.location.href;\n        const newUrl = window.location.origin + window.location.pathname;\n        if (newUrl !== currentUrl) {\n          setCurrentUrl(newUrl);\n        }\n      }\n    }, 200);\n\n    window.addEventListener('popstate', handlePopState);\n    window.addEventListener('hashchange', handleHashChange);\n\n    return () => {\n      window.removeEventListener('popstate', handlePopState);\n      window.removeEventListener('hashchange', handleHashChange);\n      clearInterval(intervalId);\n    };\n  }, [currentUrl]);\n\n  const refresh = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch(\n        `${apiUrl}/annotations/by-url?url=${encodeURIComponent(currentUrl)}`\n      );\n      const data = await response.json();\n\n      if (data.success) {\n        setAnnotations(data.data);\n      } else {\n        setError(data.error || 'Failed to fetch annotations');\n      }\n    } catch (err) {\n      setError(String(err));\n    } finally {\n      setLoading(false);\n    }\n  }, [apiUrl, currentUrl]);\n\n  useEffect(() => {\n    refresh();\n  }, [refresh]);\n\n  const create = useCallback(\n    async (input: CreateAnnotationInput): Promise<Annotation | null> => {\n      try {\n        const response = await fetch(`${apiUrl}/annotations`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            ...input,\n            actor: input.actor || defaultActor,\n          }),\n        });\n\n        const data = await response.json();\n\n        if (data.success) {\n          setAnnotations((prev) => [data.data, ...prev]);\n          return data.data;\n        } else {\n          setError(data.error || 'Failed to create annotation');\n          return null;\n        }\n      } catch (err) {\n        setError(String(err));\n        return null;\n      }\n    },\n    [apiUrl, defaultActor]\n  );\n\n  const update = useCallback(\n    async (id: string, input: Partial<CreateAnnotationInput>): Promise<Annotation | null> => {\n      try {\n        const response = await fetch(`${apiUrl}/annotations/${id}`, {\n          method: 'PATCH',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            ...input,\n            actor: input.actor || defaultActor,\n          }),\n        });\n\n        const data = await response.json();\n\n        if (data.success) {\n          setAnnotations((prev) =>\n            prev.map((a) => (a.id === id ? data.data : a))\n          );\n          return data.data;\n        } else {\n          setError(data.error || 'Failed to update annotation');\n          return null;\n        }\n      } catch (err) {\n        setError(String(err));\n        return null;\n      }\n    },\n    [apiUrl, defaultActor]\n  );\n\n  const remove = useCallback(\n    async (id: string): Promise<boolean> => {\n      try {\n        const response = await fetch(\n          `${apiUrl}/annotations/${id}?actor=${encodeURIComponent(defaultActor)}`,\n          { method: 'DELETE' }\n        );\n\n        const data = await response.json();\n\n        if (data.success) {\n          setAnnotations((prev) => prev.filter((a) => a.id !== id));\n          return true;\n        } else {\n          setError(data.error || 'Failed to delete annotation');\n          return false;\n        }\n      } catch (err) {\n        setError(String(err));\n        return false;\n      }\n    },\n    [apiUrl, defaultActor]\n  );\n\n  return {\n    annotations,\n    loading,\n    error,\n    refresh,\n    create,\n    update,\n    remove,\n    currentUrl,\n  };\n}\n","import { useState, useCallback, useEffect } from 'preact/hooks';\n\nexport type SelectionMode = 'none' | 'element' | 'rect';\n\ninterface ElementSelection {\n  type: 'element';\n  selector: string;\n  xpath: string;\n  textContent: string;\n  rect: DOMRect;\n}\n\ninterface RectSelection {\n  type: 'rect';\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  scrollX: number;\n  scrollY: number;\n  viewportWidth: number;\n  viewportHeight: number;\n}\n\nexport type Selection = ElementSelection | RectSelection | null;\n\ninterface UseSelectionResult {\n  mode: SelectionMode;\n  setMode: (mode: SelectionMode) => void;\n  selection: Selection;\n  clearSelection: () => void;\n  hoveredElement: HTMLElement | null;\n  hoveredRect: DOMRect | null;\n  rectDrag: { startX: number; startY: number; endX: number; endY: number } | null;\n}\n\nfunction getSelector(element: HTMLElement): string {\n  if (element.id) {\n    return `#${element.id}`;\n  }\n\n  const path: string[] = [];\n  let current: HTMLElement | null = element;\n\n  while (current && current !== document.body) {\n    let selector = current.tagName.toLowerCase();\n\n    if (current.className && typeof current.className === 'string') {\n      const classes = current.className\n        .split(' ')\n        .filter((c) => c.trim() && !c.startsWith('pa-'))\n        .slice(0, 2);\n      if (classes.length > 0) {\n        selector += '.' + classes.join('.');\n      }\n    }\n\n    const siblings = current.parentElement?.children;\n    if (siblings && siblings.length > 1) {\n      const index = Array.from(siblings).indexOf(current);\n      if (index > 0) {\n        selector += `:nth-child(${index + 1})`;\n      }\n    }\n\n    path.unshift(selector);\n    current = current.parentElement;\n  }\n\n  return path.join(' > ');\n}\n\nfunction getXPath(element: HTMLElement): string {\n  const parts: string[] = [];\n  let current: HTMLElement | null = element;\n\n  while (current && current.nodeType === Node.ELEMENT_NODE) {\n    let index = 0;\n    let sibling: Node | null = current.previousSibling;\n\n    while (sibling) {\n      if (\n        sibling.nodeType === Node.ELEMENT_NODE &&\n        (sibling as HTMLElement).tagName === current.tagName\n      ) {\n        index++;\n      }\n      sibling = sibling.previousSibling;\n    }\n\n    const tagName = current.tagName.toLowerCase();\n    const part = index > 0 ? `${tagName}[${index + 1}]` : tagName;\n    parts.unshift(part);\n\n    current = current.parentElement;\n  }\n\n  return '/' + parts.join('/');\n}\n\n// Check if event originated from within our overlay (handles Shadow DOM)\nfunction isOverlayEvent(e: Event): boolean {\n  // Use composedPath to check through shadow DOM boundaries\n  const path = e.composedPath();\n  return path.some((el) => {\n    if (el instanceof HTMLElement) {\n      return el.id === 'prototype-annotator-root' || el.id === 'prototype-annotator-container';\n    }\n    return false;\n  });\n}\n\nexport function useSelection(): UseSelectionResult {\n  const [mode, setMode] = useState<SelectionMode>('none');\n  const [selection, setSelection] = useState<Selection>(null);\n  const [hoveredElement, setHoveredElement] = useState<HTMLElement | null>(null);\n  const [hoveredRect, setHoveredRect] = useState<DOMRect | null>(null);\n  const [rectDrag, setRectDrag] = useState<{\n    startX: number;\n    startY: number;\n    endX: number;\n    endY: number;\n  } | null>(null);\n\n  const clearSelection = useCallback(() => {\n    setSelection(null);\n    setHoveredElement(null);\n    setHoveredRect(null);\n    setRectDrag(null);\n  }, []);\n\n  // Element selection mode handlers\n  useEffect(() => {\n    if (mode !== 'element') {\n      setHoveredElement(null);\n      setHoveredRect(null);\n      return;\n    }\n\n    const handleMouseMove = (e: MouseEvent) => {\n      // Ignore our own elements (use composedPath for Shadow DOM)\n      if (isOverlayEvent(e)) {\n        setHoveredElement(null);\n        setHoveredRect(null);\n        return;\n      }\n\n      const target = e.target as HTMLElement;\n      setHoveredElement(target);\n      setHoveredRect(target.getBoundingClientRect());\n    };\n\n    const handleClick = (e: MouseEvent) => {\n      // Ignore our own elements (use composedPath for Shadow DOM)\n      if (isOverlayEvent(e)) {\n        return;\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      const target = e.target as HTMLElement;\n\n      const rect = target.getBoundingClientRect();\n\n      setSelection({\n        type: 'element',\n        selector: getSelector(target),\n        xpath: getXPath(target),\n        textContent: target.textContent?.slice(0, 100) || '',\n        rect,\n      });\n\n      setMode('none');\n    };\n\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('click', handleClick, true);\n\n    return () => {\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('click', handleClick, true);\n    };\n  }, [mode]);\n\n  // Rectangle selection mode handlers\n  useEffect(() => {\n    if (mode !== 'rect') {\n      setRectDrag(null);\n      return;\n    }\n\n    const handleMouseDown = (e: MouseEvent) => {\n      // Ignore our own elements (use composedPath for Shadow DOM)\n      if (isOverlayEvent(e)) {\n        return;\n      }\n\n      e.preventDefault();\n      setRectDrag({\n        startX: e.clientX,\n        startY: e.clientY,\n        endX: e.clientX,\n        endY: e.clientY,\n      });\n    };\n\n    const handleMouseMove = (e: MouseEvent) => {\n      setRectDrag((prev) => {\n        if (!prev) return null;\n        return {\n          ...prev,\n          endX: e.clientX,\n          endY: e.clientY,\n        };\n      });\n    };\n\n    const handleMouseUp = (e: MouseEvent) => {\n      setRectDrag((prev) => {\n        if (!prev) return null;\n\n        const x = Math.min(prev.startX, e.clientX);\n        const y = Math.min(prev.startY, e.clientY);\n        const width = Math.abs(e.clientX - prev.startX);\n        const height = Math.abs(e.clientY - prev.startY);\n\n        // Only create selection if area is meaningful\n        if (width > 10 && height > 10) {\n          setSelection({\n            type: 'rect',\n            x,\n            y,\n            width,\n            height,\n            scrollX: window.scrollX,\n            scrollY: window.scrollY,\n            viewportWidth: window.innerWidth,\n            viewportHeight: window.innerHeight,\n          });\n        }\n\n        setMode('none');\n        return null;\n      });\n    };\n\n    document.addEventListener('mousedown', handleMouseDown);\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n\n    return () => {\n      document.removeEventListener('mousedown', handleMouseDown);\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [mode]);\n\n  // Keyboard shortcut to cancel selection\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && mode !== 'none') {\n        setMode('none');\n        clearSelection();\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [mode, clearSelection]);\n\n  return {\n    mode,\n    setMode,\n    selection,\n    clearSelection,\n    hoveredElement,\n    hoveredRect,\n    rectDrag,\n  };\n}\n","import { FunctionComponent } from 'preact';\nimport { useState, useEffect, useCallback } from 'preact/hooks';\nimport { Toolbar } from './components/Toolbar';\nimport { Sidebar } from './components/Sidebar';\nimport { SelectionTools } from './components/SelectionTools';\nimport { AnnotationMarker } from './components/AnnotationMarker';\nimport { useAnnotations, Annotation } from './hooks/useAnnotations';\nimport { useSelection, SelectionMode } from './hooks/useSelection';\n\ninterface OverlayProps {\n  config: {\n    basePath: string;\n    apiUrl: string;\n    defaultActor: string;\n  };\n}\n\nexport const Overlay: FunctionComponent<OverlayProps> = ({ config }) => {\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [selectedAnnotation, setSelectedAnnotation] = useState<Annotation | null>(null);\n\n  const { annotations, loading, create, update, remove, currentUrl, refresh } = useAnnotations(\n    config.apiUrl,\n    config.defaultActor\n  );\n\n  const {\n    mode,\n    setMode,\n    selection,\n    clearSelection,\n    hoveredRect,\n    rectDrag,\n  } = useSelection();\n\n  // Open sidebar when selection is made\n  useEffect(() => {\n    if (selection) {\n      setSidebarOpen(true);\n    }\n  }, [selection]);\n\n  // Clear selection state when URL changes (SPA navigation)\n  useEffect(() => {\n    clearSelection();\n    setSelectedAnnotation(null);\n  }, [currentUrl, clearSelection]);\n\n  // Expose global refresh API for edge cases\n  useEffect(() => {\n    (window as Window & { __PROTOTYPE_ANNOTATOR__?: { refresh: () => void } }).__PROTOTYPE_ANNOTATOR__ = {\n      refresh,\n    };\n\n    return () => {\n      delete (window as Window & { __PROTOTYPE_ANNOTATOR__?: { refresh: () => void } }).__PROTOTYPE_ANNOTATOR__;\n    };\n  }, [refresh]);\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Ignore if typing in an input (use composedPath for Shadow DOM)\n      const path = e.composedPath();\n      const isTypingInInput = path.some(\n        (el) => el instanceof HTMLInputElement || el instanceof HTMLTextAreaElement\n      );\n      if (isTypingInInput) {\n        return;\n      }\n\n      switch (e.key.toLowerCase()) {\n        case 'e':\n          setMode(mode === 'element' ? 'none' : 'element');\n          break;\n        case 'r':\n          setMode(mode === 'rect' ? 'none' : 'rect');\n          break;\n        case 's':\n          setSidebarOpen((prev) => !prev);\n          break;\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [mode, setMode]);\n\n  const handleSetMode = useCallback(\n    (newMode: SelectionMode) => {\n      setMode(newMode);\n      clearSelection();\n      setSelectedAnnotation(null);\n    },\n    [setMode, clearSelection]\n  );\n\n  const handleCreateAnnotation = useCallback(\n    async (data: { title: string; body: string }) => {\n      if (!selection) return;\n\n      const input = {\n        url_full: window.location.href,\n        title: data.title,\n        body: data.body,\n        anchor_type: selection.type as 'element' | 'rect',\n        anchor_payload:\n          selection.type === 'element'\n            ? {\n                selector: selection.selector,\n                xpath: selection.xpath,\n                textContent: selection.textContent,\n              }\n            : {\n                x: selection.x,\n                y: selection.y,\n                width: selection.width,\n                height: selection.height,\n                scrollX: selection.scrollX,\n                scrollY: selection.scrollY,\n                viewportWidth: selection.viewportWidth,\n                viewportHeight: selection.viewportHeight,\n              },\n      };\n\n      await create(input);\n      clearSelection();\n    },\n    [selection, create, clearSelection]\n  );\n\n  const handleUpdateAnnotation = useCallback(\n    async (id: string, data: { title: string; body: string }) => {\n      await update(id, data);\n    },\n    [update]\n  );\n\n  const handleDeleteAnnotation = useCallback(\n    async (id: string) => {\n      await remove(id);\n    },\n    [remove]\n  );\n\n  const handleCancelSelection = useCallback(() => {\n    clearSelection();\n  }, [clearSelection]);\n\n  const handleSelectAnnotation = useCallback((annotation: Annotation | null) => {\n    setSelectedAnnotation(annotation);\n    if (annotation) {\n      setSidebarOpen(true);\n    }\n  }, []);\n\n  return (\n    <>\n      <SelectionTools mode={mode} hoveredRect={hoveredRect} rectDrag={rectDrag} />\n\n      {annotations.map((annotation, index) => (\n        <AnnotationMarker\n          key={annotation.id}\n          annotation={annotation}\n          index={index}\n          isActive={selectedAnnotation?.id === annotation.id}\n          onClick={() => handleSelectAnnotation(annotation)}\n        />\n      ))}\n\n      <Sidebar\n        open={sidebarOpen}\n        onClose={() => setSidebarOpen(false)}\n        annotations={annotations}\n        loading={loading}\n        selection={selection}\n        selectedAnnotation={selectedAnnotation}\n        onSelectAnnotation={handleSelectAnnotation}\n        onCreateAnnotation={handleCreateAnnotation}\n        onUpdateAnnotation={handleUpdateAnnotation}\n        onDeleteAnnotation={handleDeleteAnnotation}\n        onCancelSelection={handleCancelSelection}\n        basePath={config.basePath}\n      />\n\n      <Toolbar\n        sidebarOpen={sidebarOpen}\n        onToggleSidebar={() => setSidebarOpen((prev) => !prev)}\n        selectionMode={mode}\n        onSetSelectionMode={handleSetMode}\n      />\n    </>\n  );\n};\n","import { render } from 'preact';\nimport { Overlay } from './Overlay';\nimport overlayStyles from './styles/overlay.css?inline';\n\ninterface ClientConfig {\n  basePath: string;\n  apiUrl: string;\n  defaultActor: string;\n}\n\ndeclare global {\n  interface Window {\n    __PROTOTYPE_ANNOTATOR_CONFIG__?: ClientConfig;\n  }\n}\n\nfunction mountOverlay() {\n  // Get config from injected global\n  const config = window.__PROTOTYPE_ANNOTATOR_CONFIG__;\n  if (!config) {\n    console.error('[prototype-annotator] No configuration found');\n    return;\n  }\n\n  // Check if already mounted\n  if (document.getElementById('prototype-annotator-root')) {\n    return;\n  }\n\n  // Create host element\n  const host = document.createElement('div');\n  host.id = 'prototype-annotator-root';\n  document.body.appendChild(host);\n\n  // Create shadow DOM for style isolation\n  const shadow = host.attachShadow({ mode: 'open' });\n\n  // Inject styles\n  const styleEl = document.createElement('style');\n  styleEl.textContent = overlayStyles;\n  shadow.appendChild(styleEl);\n\n  // Create container for Preact\n  const container = document.createElement('div');\n  container.id = 'prototype-annotator-container';\n  shadow.appendChild(container);\n\n  // Mount Preact app\n  render(<Overlay config={config} />, container);\n\n  console.log('[prototype-annotator] Overlay mounted');\n}\n\n// Mount when DOM is ready\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', mountOverlay);\n} else {\n  mountOverlay();\n}\n"],"names":["n","l","u","i","o","r","e","f","c","s","a","p","v","y","d","w","g","_","t","m","k","x","S","C","M","$","O","N","I","b","P","B","A","L","D","T","j","F","h","H","E","V","z","q","G","MenuIcon","jsx","CloseIcon","ElementIcon","jsxs","RectIcon","Toolbar","sidebarOpen","onToggleSidebar","selectionMode","onSetSelectionMode","AnnotationForm","selection","existingAnnotation","onSubmit","onCancel","onDelete","title","setTitle","useState","body","setBody","useEffect","Fragment","Sidebar","open","onClose","annotations","loading","selectedAnnotation","onSelectAnnotation","onCreateAnnotation","onUpdateAnnotation","onDeleteAnnotation","onCancelSelection","basePath","activeTab","setActiveTab","showForm","handleCreateSubmit","data","handleUpdateSubmit","handleDelete","handleCancel","formatDate","dateStr","date","annotation","SelectionTools","mode","hoveredRect","rectDrag","AnnotationMarker","index","isActive","onClick","position","setPosition","calculatePosition","useCallback","payload","element","rect","width","scrollX","scrollY","viewportWidth","viewportHeight","scaleX","scaleY","docX","docY","handleUpdate","useAnnotations","apiUrl","defaultActor","setAnnotations","setLoading","error","setError","currentUrl","setCurrentUrl","lastUrl","handlePopState","newUrl","handleHashChange","intervalId","refresh","err","create","input","prev","update","id","remove","getSelector","path","current","selector","classes","siblings","getXPath","parts","sibling","tagName","part","isOverlayEvent","el","useSelection","setMode","setSelection","hoveredElement","setHoveredElement","setHoveredRect","setRectDrag","clearSelection","handleMouseMove","target","handleClick","handleMouseDown","handleMouseUp","height","handleKeyDown","Overlay","config","setSidebarOpen","setSelectedAnnotation","handleSetMode","newMode","handleCreateAnnotation","handleUpdateAnnotation","handleDeleteAnnotation","handleCancelSelection","handleSelectAnnotation","mountOverlay","host","shadow","styleEl","overlayStyles","container","render"],"mappings":"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","x_google_ignoreList":[0,1,2]}